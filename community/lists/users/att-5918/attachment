<html>
<head>
<style>
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
FONT-SIZE: 10pt;
FONT-FAMILY:Tahoma
}
</style>
</head>
<body class='hmmessage'>
thanks,<br>I added "setenv TMPDIR /tmp:$TMPDIR"&nbsp; in my job script file.<br><br>so , echo $TMPDIR :<br><br>&nbsp;&nbsp;&nbsp;&nbsp; /tmp:/local2/pbs/myname/37911.hpc-cluster<br><br>but the same errors. <br><br>thanks<br><br><br>&gt; From: jsquyres@cisco.com<br>&gt; To: users@open-mpi.org<br>&gt; Date: Tue, 17 Jun 2008 11:55:05 -0400<br>&gt; Subject: Re: [OMPI users] help me please, about Open MPI<br>&gt; <br>&gt; Sure, that configure line should be fine.  But that's a different  <br>&gt; issue than the permissions on your temp directories.  The environment  <br>&gt; variables I was asking about are what are set at run time -- not when  <br>&gt; you configure/build OMPI.<br>&gt; <br>&gt; If you're using Torque, I *believe* that it sets TMPDIR in its jobs --  <br>&gt; you might want to check (I don't use Torque on a day-to-day basis, so  <br>&gt; I don't remember offhand).<br>&gt; <br>&gt; <br>&gt; On Jun 17, 2008, at 11:52 AM, Tony Smith wrote:<br>&gt; <br>&gt; &gt; thanks,<br>&gt; &gt;<br>&gt; &gt; My configure :<br>&gt; &gt; ./configure --prefix=/ptmp/myname/openmpi --enable-static --disable- <br>&gt; &gt; shared<br>&gt; &gt; CC=icc CXX=icpc F77=ifort FC=ifort --with-gm=/opt/gm<br>&gt; &gt; -with-tm=/usr/spool/PBS/<br>&gt; &gt; is that correct ?<br>&gt; &gt;<br>&gt; &gt; thanks<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; &gt; From: jsquyres@cisco.com<br>&gt; &gt; &gt; To: users@open-mpi.org<br>&gt; &gt; &gt; Date: Tue, 17 Jun 2008 10:35:06 -0400<br>&gt; &gt; &gt; Subject: Re: [OMPI users] help me please, about Open MPI<br>&gt; &gt; &gt;<br>&gt; &gt; &gt; What are the exact permissions on /tmp? They should likely be 1777.<br>&gt; &gt; &gt;<br>&gt; &gt; &gt; Do you have the TMPDIR or TMP environment variables set? If so, is<br>&gt; &gt; &gt; that directory also world-writable? (if set, these will override the<br>&gt; &gt; &gt; default location of /tmp)<br>&gt; &gt; &gt;<br>&gt; &gt; &gt; The error you are seeing (session directory failed) usually has to  <br>&gt; &gt; do<br>&gt; &gt; &gt; with ORTE not being able to create a session directory for the user.<br>&gt; &gt; &gt;<br>&gt; &gt; &gt;<br>&gt; &gt; &gt;<br>&gt; &gt; &gt; On Jun 17, 2008, at 10:27 AM, Tony Smith wrote:<br>&gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; thanks,<br>&gt; &gt; &gt; &gt; I changed /tmp and /ptmp and its sub directories to writable .<br>&gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; But , the same errors.<br>&gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; thanks,<br>&gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; From: jsquyres@cisco.com<br>&gt; &gt; &gt; &gt; &gt; To: users@open-mpi.org<br>&gt; &gt; &gt; &gt; &gt; Date: Tue, 17 Jun 2008 09:10:18 -0400<br>&gt; &gt; &gt; &gt; &gt; Subject: Re: [OMPI users] help me please, about Open MPI<br>&gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; Is /tmp writable on your compute nodes?<br>&gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; On Jun 16, 2008, at 1:49 PM, Tony Smith wrote:<br>&gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; Dear Sir:<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; thanks.<br>&gt; &gt; &gt; &gt; &gt; &gt; I have changed it to its absolute path:<br>&gt; &gt; &gt; &gt; &gt; &gt; /ptmp/myname/openmpi123/ompi123_install/bin/mpirun -np 8 / <br>&gt; &gt; ptmp/<br>&gt; &gt; &gt; &gt; &gt; &gt; myname/openmpi123/openmpi-1.2.3/examples/hello_c<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; But I still got the error :<br>&gt; &gt; &gt; &gt; &gt; &gt; ====================================================<br>&gt; &gt; &gt; &gt; &gt; &gt; [hpc-cluster-38 :32635] [0,0,0] ORTE_ERROR_LOG: Error in file<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; runtime/orte_init_stage1.c at line 626<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt;  <br>&gt; &gt; --------------------------------------------------------------------------<br>&gt; &gt; &gt; &gt; &gt; &gt; It looks like orte_init failed for some reason; your parallel<br>&gt; &gt; &gt; &gt; &gt; &gt; process is<br>&gt; &gt; &gt; &gt; &gt; &gt; likely to abort. There are many reasons that a parallel  <br>&gt; &gt; process<br>&gt; &gt; &gt; &gt; can<br>&gt; &gt; &gt; &gt; &gt; &gt; fail during orte_init; some of which are due to  <br>&gt; &gt; configuration or<br>&gt; &gt; &gt; &gt; &gt; &gt; environment problems. This failure appears to be an internal<br>&gt; &gt; &gt; &gt; failure;<br>&gt; &gt; &gt; &gt; &gt; &gt; here's some additional information (which may only be relevant<br>&gt; &gt; &gt; &gt; to an<br>&gt; &gt; &gt; &gt; &gt; &gt; Open MPI developer):<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; orte_session_dir failed<br>&gt; &gt; &gt; &gt; &gt; &gt; --&gt; Returned value -1 instead of ORTE_SUCCESS<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt;  <br>&gt; &gt; --------------------------------------------------------------------------<br>&gt; &gt; &gt; &gt; &gt; &gt; [hpc-cluster-38 :32635] [0,0,0] ORTE_ERROR_LOG: Error in file<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; runtime/orte_system_init.c at line 42<br>&gt; &gt; &gt; &gt; &gt; &gt; [hpc-cluster-38 :32635] [0,0,0] ORTE_ERROR_LOG: Error in file<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; runtime/orte_init.c at line 52<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt;  <br>&gt; &gt; --------------------------------------------------------------------------<br>&gt; &gt; &gt; &gt; &gt; &gt; Open RTE was unable to initialize properly. The error occured<br>&gt; &gt; &gt; &gt; while<br>&gt; &gt; &gt; &gt; &gt; &gt; attempting to orte_init(). Returned value -1 instead of<br>&gt; &gt; &gt; &gt; ORTE_SUCCESS.<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt;  <br>&gt; &gt; --------------------------------------------------------------------------<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; ====================================<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; I can not find the file "runtime/orte_init_stage1.c"<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; It seems that ORTE is not initialized .<br>&gt; &gt; &gt; &gt; &gt; &gt; I have built OPEN MPI and installed it correctly .<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; Why ?<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; thanks a lot ,<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; June 16 2008<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; Date: Mon, 16 Jun 2008 19:05:06 +0200<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; From: gentryx@gmx.de<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; To: users@open-mpi.org<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; Subject: Re: [OMPI users] help me please, about Open MPI<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; Dear Mister Smith,<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; Thank you for installing Open MPI.<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; On 12:51 Mon 16 Jun , Tony Smith wrote:<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I have changed PATH and LD_LIBRARY_PATH:<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; Please be aware that you have to make those changes within<br>&gt; &gt; &gt; &gt; your job<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; script. Otherwise they will only affect your local shell.<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; But, how can I make sure that the application is run by  <br>&gt; &gt; Open<br>&gt; &gt; &gt; &gt; MPI<br>&gt; &gt; &gt; &gt; &gt; &gt; not by mpich-<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; You could enforce a certain mpirun by using its absolute  <br>&gt; &gt; path,<br>&gt; &gt; &gt; &gt; e.g<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; "/ptmp/myname/openmpi123/ompi123_install/bin/mpirun foo"<br>&gt; &gt; &gt; &gt; instead of<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; just "mpirun foo".<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I deleted /opt/mpich-gm/bin from PATH and added<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; You should not need to delete, just add in front of MPICH.<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Would you please help me with that ?<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; I utterly hope I just did.<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; Most sincerely yours ;-)<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; -Andreas<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; --<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; ============================================<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; Andreas Schäfer<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; Cluster and Metacomputing Working Group<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; Friedrich-Schiller-Universität Jena, Germany<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; PGP/GPG key via keyserver<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; I'm a bright... http://www.the-brights.net<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; ============================================<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; (\___/)<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; (+'.'+)<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; (")_(")<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; This is Bunny. Copy and paste Bunny into your<br>&gt; &gt; &gt; &gt; &gt; &gt; &gt; signature to help him gain world domination!<br>&gt; &gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; &gt; Now you can invite friends from Facebook and other groups to  <br>&gt; &gt; join<br>&gt; &gt; &gt; &gt; &gt; &gt; you on Windows Live™ Messenger. Add them now!<br>&gt; &gt; &gt; &gt; &gt; &gt; _______________________________________________<br>&gt; &gt; &gt; &gt; &gt; &gt; users mailing list<br>&gt; &gt; &gt; &gt; &gt; &gt; users@open-mpi.org<br>&gt; &gt; &gt; &gt; &gt; &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; --<br>&gt; &gt; &gt; &gt; &gt; Jeff Squyres<br>&gt; &gt; &gt; &gt; &gt; Cisco Systems<br>&gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; &gt; _______________________________________________<br>&gt; &gt; &gt; &gt; &gt; users mailing list<br>&gt; &gt; &gt; &gt; &gt; users@open-mpi.org<br>&gt; &gt; &gt; &gt; &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt; &gt; &gt;<br>&gt; &gt; &gt; &gt; Earn cashback on your purchases with Live Search - the search that<br>&gt; &gt; &gt; &gt; pays you back! Learn More<br>&gt; &gt; &gt; &gt; _______________________________________________<br>&gt; &gt; &gt; &gt; users mailing list<br>&gt; &gt; &gt; &gt; users@open-mpi.org<br>&gt; &gt; &gt; &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt; &gt;<br>&gt; &gt; &gt;<br>&gt; &gt; &gt; --<br>&gt; &gt; &gt; Jeff Squyres<br>&gt; &gt; &gt; Cisco Systems<br>&gt; &gt; &gt;<br>&gt; &gt; &gt;<br>&gt; &gt; &gt; _______________________________________________<br>&gt; &gt; &gt; users mailing list<br>&gt; &gt; &gt; users@open-mpi.org<br>&gt; &gt; &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt;<br>&gt; &gt; Earn cashback on your purchases with Live Search - the search that  <br>&gt; &gt; pays you back! Learn More  <br>&gt; &gt; _______________________________________________<br>&gt; &gt; users mailing list<br>&gt; &gt; users@open-mpi.org<br>&gt; &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; <br>&gt; <br>&gt; -- <br>&gt; Jeff Squyres<br>&gt; Cisco Systems<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; users mailing list<br>&gt; users@open-mpi.org<br>&gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br><br /><hr />Introducing Live Search cashback .  It's search that pays you back! <a href='http://search.live.com/cashback/?&pkw=form=MIJAAF/publ=HMTGL/crea=introsrchcashback' target='_new'>Try it Now</a></body>
</html>
