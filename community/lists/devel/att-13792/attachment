<html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Paul,<div><br></div><div>From what I can see in the arguments to&nbsp;OPAL_OUTPUT_VERBOSE() in line 356&nbsp;at&nbsp;<a href="https://bitbucket.org/ompiteam/ompi-svn-mirror/src/f48eeda443104a64dc89e4f5fab4c940e44d8615/opal/mca/db/hash/db_hash.c">https://bitbucket.org/ompiteam/ompi-svn-mirror/src/f48eeda443104a64dc89e4f5fab4c940e44d8615/opal/mca/db/hash/db_hash.c</a>, this is the same PGI bug I reported 22 Jul 2010, which was assigned TPR 17139.</div><div><br></div><div><br></div><div><blockquote type="cite"><span class="Apple-style-span" style="font-family: monospace; ">Customer information:</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">Larry Baker</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">US Geological Survey</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">650-329-5608</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><a href="mailto:baker@usgs.gov">baker@usgs.gov</a></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">Product: 2183-WS</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">PIN: 507549</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">Problem description:</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">I am trying to track down the warnings that occur when compiling the UCAR NetCDF package with PGI compilers. &nbsp;I have found a case that gcc does not warn about, but pgcc does. &nbsp;If I understand the code and the C (1990) standard, I think pgcc is complaining too much.</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">You can reproduce the warnings by downloading the UCAR NetCDF source package, netcdf.tar.gz, from</span><span class="Apple-style-span" style="font-family: monospace; "><a href="http://www.unidata.ucar.edu/software/netcdf/">http://www.unidata.ucar.edu/software/netcdf/</a></span><span class="Apple-style-span" style="font-family: monospace; ">. &nbsp;Assuming you download it to /usr/local/src, here are the commands that illustrate the warnings:</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "># cd /usr/local/src</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "># tar -xzf netcdf.tar.gz</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "># cd netcdf-4.1.1</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "># ./configure &gt;/dev/null 2&gt;&amp;1</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "># cd ncgen</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "># pgcc -DHAVE_CONFIG_H -I. -I.. -I../fortran &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-I.. -I../libsrc -I../libsrc &nbsp;&nbsp;&nbsp;-g -O2 -tp amd64 -Msignextend -DNO_PGI_OFFSET -c -o genf77.o genf77.c</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">PGC-W-0095-Type cast required for this conversion (genf77.c: 498)</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">PGC-W-0095-Type cast required for this conversion (genf77.c: 511)</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">PGC/x86-64 Linux 10.3-0: compilation completed with warnings</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">To eliminate the warnings, I had to modify the two source lines to cast the result from static const char* f77varncid() as (char *):</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;/* Use the specialized put_att_XX routines if possible*/<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;switch (basetype-&gt;typ.typecode) {<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;case NC_BYTE:<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;case NC_SHORT:<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;case NC_INT:<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;case NC_FLOAT:<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;case NC_DOUBLE:<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f77attrify(asym,code);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codedump(code);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bbClear(code);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bbprintf0(stmt,"stat = nf_put_att_%s(ncid, %s, %s, %s, %lu, %sval)\n",<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nfstype(basetype-&gt;typ.typecode),<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(asym-&gt;att.var == NULL?"NF_GLOBAL"<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:(char *) f77varncid(asym-&gt;att.var)), &nbsp;&nbsp;&lt;--- here<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f77escapifyname(asym-&gt;name),<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nftype(basetype-&gt;typ.typecode),<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;len,<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ncftype(basetype-&gt;typ.typecode));<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codedump(stmt);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br></blockquote><blockquote type="cite" style="font-family: monospace; "><br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;case NC_CHAR:<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;len = bbLength(code);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f77quotestring(code);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bbprintf0(stmt,"stat = nf_put_att_text(ncid, %s, %s, %lu, ",<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(asym-&gt;att.var == NULL?"NF_GLOBAL"<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:(char *)f77varncid(asym-&gt;att.var)), &nbsp;&nbsp;&lt;--- and here<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f77escapifyname(asym-&gt;name),<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(len==0?1:len));<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codedump(stmt);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codedump(code);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codeline(")");<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br></blockquote><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">Here is static const char* f77varncid():</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><blockquote type="cite" style="font-family: monospace; ">/* Compute the name for a given var's id*/<br></blockquote><blockquote type="cite" style="font-family: monospace; ">/* Watch out: the result is a static*/<br></blockquote><blockquote type="cite" style="font-family: monospace; ">static const char*<br></blockquote><blockquote type="cite" style="font-family: monospace; ">f77varncid(Symbol* vsym)<br></blockquote><blockquote type="cite" style="font-family: monospace; ">{<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;const char* tmp1;<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;char* vartmp;<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;tmp1 = f77name(vsym);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;vartmp = poolalloc(strlen(tmp1)+strlen("_id")+1);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;strcpy(vartmp,tmp1);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;strcat(vartmp,"_id");<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;return vartmp;<br></blockquote><blockquote type="cite" style="font-family: monospace; ">}<br></blockquote><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">There are other lines in genf77.c that use f77varncid() in a print statement, so the warnings do not occur every time f77varncid() provides a string for %s:</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;if (nvars &gt; 0) {<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f77skip();<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f77comment("variable ids");<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ivar = 0; ivar &lt; nvars; ivar++) {<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Symbol* vsym = (Symbol*)listget(vardefs,ivar);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bbprintf0(stmt,"integer %s;\n", f77varncid(vsym));<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codedump(stmt);<br></blockquote><blockquote type="cite" style="font-family: monospace; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br></blockquote><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">The warnings occur in the only two instances where f77varncid() is used in a conditional expression. &nbsp;In both cases, the second operand is a literal string, e.g., "NF_GLOBAL". &nbsp;I would have thought that a (static const char*) and a string literal would be compatible types. &nbsp;I experimented with a (const char *) cast instead of a (char *) cast, but that does not work. &nbsp;I think it should.</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">I admit, I have an old copy of the C standard — from 1990. &nbsp;But, here's my interpretation of what it says about this:</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">• 6.1.4 String literals, says string literals are converted to an array of type char. &nbsp;If the program attempts to modify a string literal, the behavior is undefined. &nbsp;It does not say that the type has the const type qualifier (though, you would think it should).</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">• 6.3.15 Conditional operator, says if the second and third operands are pointers ..., the result type is a pointer to a type qualified with all the type qualifiers of the types pointed-to by both operands.</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">This would seem to explain the warning message, since the string literal is (char *) and f77varncid() is (const char *). &nbsp;However, 6.3.15 goes on to say:</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">Furthermore, if both operands are pointers to ... differently qualified versions of a compatible type, the result has the composite type.</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">Which leads me to believe you are allowed to mix const and non-const versions of a compatible type.</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">Lastly:</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">• 6.5.3 Type qualifiers, says that the properties associated with qualified types are meaningful only for expressions that are lvalues.</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">Seems to make the issue moot, since it says const-ness only applies to lvalues.</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">So, I think both 6.3.15 and 6.5.3 imply that (char *) and (const char *) are compatible as the second and third operands in a conditional expression which is not an lvalue, which is the case in this code. &nbsp;As I mentioned above, gcc does not complain about this code. &nbsp;What do you think?</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">Larry Baker</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">US Geological Survey</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; ">650-329-5608</span><span class="Apple-style-span" style="font-family: monospace; "><br></span><span class="Apple-style-span" style="font-family: monospace; "><a href="mailto:baker@usgs.gov">baker@usgs.gov</a></span><span class="Apple-style-span" style="font-family: monospace; "><br></span></blockquote><div><br class="webkit-block-placeholder"></div><div>I could inquire about the current status of this TPR if you like. &nbsp;(Might as well.)</div><div><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Helvetica Neue'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; "><br></span></div><div><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Helvetica Neue'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; ">Larry Baker<br>US Geological Survey<br>650-329-5608<br><a href="mailto:baker@usgs.gov">baker@usgs.gov</a><br><br><br></span>
</div>
<br><div><div>On 17 Jan 2014, at 11:28 AM, Paul Hargrove wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div dir="ltr">Ralph,<div><br></div><div><div>You are probably right that the string literals are a likely cause (type char[] ? ).</div></div><div>I will poke at this a bit by adding (char *) casts to see which argument(s) are actually the cause and get back to you.<br>
</div><div><div><br></div></div><div>-Paul&nbsp;</div></div><div class="gmail_extra"><br><br><div class="gmail_quote">On Fri, Jan 17, 2014 at 8:56 AM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex; position: static; z-index: auto; "><div style="word-wrap:break-word">Hi Paul<div><br></div><div>Looking at these, I'm a tad puzzled. It would appear that PGI is complaining about the fixed string being passed in the last three cases as there is no (const char*)foo being used in those areas. Yet we use that same logic elsewhere and your report isn't showing those as warnings.</div>
<div><br></div><div>Do you think it is the fixed string that is the issue - or is it the (const char*) variable we need to recast?</div><div><br></div><div><br><div><div>On Jan 16, 2014, at 11:24 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt; wrote:</div>
<br><blockquote type="cite"><div dir="ltr">My builds of the trunk with pgcc-13.10 turned up the following warnings:<div><br></div><div><div>PGC-W-0095-Type cast required for this conversion (/scratch/scratchdirs/hargrove/OMPI/openmpi-trunk-linux-x86_64-pgi-13.10/openmpi-1.9a1r30302/opal/mca/db/hash/db_hash.c: 354)</div>

<div>PGC-W-0095-Type cast required for this conversion (/scratch/scratchdirs/hargrove/OMPI/openmpi-trunk-linux-x86_64-pgi-13.10/openmpi-1.9a1r30302/opal/mca/db/hash/db_hash.c: 376)</div><div>PGC-W-0095-Type cast required for this conversion (/scratch/scratchdirs/hargrove/OMPI/openmpi-trunk-linux-x86_64-pgi-13.10/openmpi-1.9a1r30302/opal/mca/db/hash/db_hash.c: 452)</div>

<div>PGC-W-0095-Type cast required for this conversion (/scratch/scratchdirs/hargrove/OMPI/openmpi-trunk-linux-x86_64-pgi-13.10/openmpi-1.9a1r30302/opal/mca/db/hash/db_hash.c: 534)</div><div><br></div><div>PGC-W-0095-Type cast required for this conversion (/scratch/scratchdirs/hargrove/OMPI/openmpi-trunk-linux-x86_64-pgi-13.10/openmpi-1.9a1r30302/orte/mca/state/base/state_base_fns.c: 766)</div>

<div><br></div><div>PGC-W-0095-Type cast required for this conversion (/scratch/scratchdirs/hargrove/OMPI/openmpi-trunk-linux-x86_64-pgi-13.10/openmpi-1.9a1r30302/orte/mca/plm/rsh/plm_rsh_component.c: 368)</div><div><br>
</div>
<div>PGC-W-0095-Type cast required for this conversion (/scratch/scratchdirs/hargrove/OMPI/openmpi-trunk-linux-x86_64-pgi-13.10/openmpi-1.9a1r30302/orte/mca/plm/rsh/plm_rsh_module.c: 1337)</div><div><br></div><div>I believe all of these are related to passing a (const char *) to OPAL_OUTPUT_VERBOSE().</div>

<div><br></div><div>-Paul&nbsp;</div><div><br></div><span class="HOEnZb"><font color="#888888"><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div>

<div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div>
</font>
</font></span></div></div><span class="HOEnZb"><font color="#888888">
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></font></span></blockquote>
</div><br></div></div><br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
<a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><font face="courier new, monospace"><div>
Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: +1-510-495-2352</div>
<div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font>
</div>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
